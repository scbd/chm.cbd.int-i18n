<div id="sixth-national-report-edit">
	<div id="wrap1">
		<div class="panel panel-default bg-litegrey">
			<div class="ngdialog-overlay" ng-if="isDialogLoading" style="z-index: 100">
				<div style="margin-left: 50%;"><i class="fa fa-spin fa-spinner fa-5x" /></div>
			</div>
			<div class="panel-header bg-darkgrey">
				<h2 style="margin-top:0px;color:#fff">Sixi&egrave;me Rapport National</h2>
			</div>
			<div class="panel-body">

				<div class="col-md-12" style="padding:0px" >
					
					<div class="row" style="padding:15px;font-size: 3em" ng-show="status=='loading'"><i ng-show="status=='loading'" class="fa fa-spinner fa-spin"></i>Sixi&egrave;me Rapport National</div>


					<div class="alert alert-danger" ng-show="hasError()" id="errorSection"><strong>Une erreur est survenue...</strong><div>{{error}}</div>
					</div><!-- ng-hide="status=='hidden'||status=='loading'"ng-if="status!='hidden' && status!='loading'" --><div  ng-show="status!='hidden' && status!='loading'">
						<div class="row">
							<div class="col-xs-12"><span class="pull-right"><strong>Sixth national report user manual</strong> <a href="https://www.cbd.int/chm/doc/chm-latest-guide-online-reporting-en.pdf" target="_blank">English</a> | <a href="https://www.cbd.int/chm/doc/chm-latest-guide-online-reporting-fr.pdf" target="_blank">French</a> | <a href="https://www.cbd.int/chm/doc/chm-latest-guide-online-reporting-es.pdf" target="_blank">Spanish</a> | <a href="https://www.cbd.int/chm/doc/chm-latest-guide-online-reporting-ru.pdf" target="_blank">Russian</a> | <a href="https://www.cbd.int/chm/doc/chm-latest-guide-online-reporting-zh.pdf" target="_blank">Chinese</a> | <a href="https://www.cbd.int/chm/doc/chm-latest-guide-online-reporting-ar.pdf" target="_blank">Arabic</a></span></div>
						</div>
						<header >
							<div class="alert alert-danger" ng-if="subRecordErrors.length">
								<div class="alert  alert-danger">There is mandatory information missing in section I and III records, please update this records before proceeding.</div>
								<div ng-include="'subRecordsValidationErrors.html'" onload="recordsToValidate=subRecordErrors"></div>
							</div>
							<div id="wrap">
								<div style="display:none;visibility:hidden;height:123px"></div>								
								<div class="navbar navbar-custom navbar-inverse navbar-static-top" id="nav">
									<div class="container container-custom">
										<div class="collapse navbar-collapse small-screen">

											<div class="row">
												<div class="col-xs-12" >
													<ul  class="pagination"  >
														<li ng-class="{ disabled: tab=='general' }"><a translation-url href="" ng-click="switchTab('prev')">&laquo;</a></li>
														<li ng-class="{ active  : tab=='general' }"><a translation-url href="" ng-click="tab='general'">Objectifs nationaux</a></li>
														<li ng-class="{ active  : tab=='implementation' }"><a translation-url href="" ng-click="tab='implementation'">Mise en &oelig;uvre</a></li>
														<li ng-class="{ active  : tab=='progress' }"><a translation-url href="" ng-click="tab='progress'">Evaluation des progr&egrave;s</a></li>
														<li ng-class="{ active  : tab=='nationalContribution' }"><a translation-url href="" ng-click="tab='nationalContribution'">Contribution nationale</a></li>
														<li ng-class="{ active  : tab=='gspcContribution' }"><a translation-url href="" ng-click="tab='gspcContribution'">Contribution SMCP</a></li>
														<li ng-class="{ active  : tab=='iplcContribution' }"><a translation-url href="" ng-click="tab='iplcContribution'">Contribution PACL</a></li>
														<li ng-class="{ active  : tab=='countryProfile' }"><a translation-url href="" ng-click="tab='countryProfile'">Profil du pays</a></li>
														<li ng-class="{ active  : tab=='review'  }"><a translation-url href="" ng-click="tab='review'">Examen</a></li>
														<li ng-class="{ disabled: tab=='review'  }"><a translation-url href="" ng-click="switchTab('next')">&raquo;</a></li>
													</ul>
													<button class="btn btn-sm btn-danger pull-right" style="margin-top:20px;margin-left:50px" ng-click="validateSubRecords()">Validate sub records</button>
													<div  km-document-validation ng-model="warningsReport" ng-if="(document.nationalContribution && document.nationalContribution.aichiTarget16.nationalReport
															&& !document.nationalContribution.aichiTarget16.nationalReportDescription)
															&& warningsReport && warningsReport.warnings"></div>

												</div>
												<div class="col-xs-6" >

													<div style="display:inline;text-transform: uppercase;font-weight: 500;font-size:12px;">Changer la langue du site:</div>
													<locale-header style="display:inline;position: inherit;" class="locale-header btn-thin" id="MyLocale"></locale-header>|<div style="display:inline;text-transform: uppercase;font-weight: 500;font-size:12px;">Soumettre dans une autre(s) langue(s):</div><span style="display:inline;" km-form-languages ng-model="document.header.languages" class="btn-thin"></span></div>
												<div class="col-xs-6 text-right"><span km-form-material-buttons status="status" document="getCleanDocument()" on-post-close="onPostClose()" on-error="onError(error, errorCode)"
													    on-post-workflow="onPostWorkflow(data)" on-post-publish="onPostPublish(data)" on-post-save-draft="onPostSaveDraft(data)"
														on-pre-save-draft="onPreSaveDraft()" on-pre-publish="onPrePublish()"
														on-pre-save-draft-version="onPreSaveDraftVersion()"></span></div>
											</div>
										</div>
									</div>
								</div>

							</div>

						</header>
						<form   name="editForm" style="margin-top:10px">

							<div   id="generalTab"  km-tab="general">

								<div class="panel panel-default panelMain" style="min-height:500px">
									<div class="panel-header">
										<h3>Partie I. Informations sur les objectifs poursuivis au niveau national</h3>
									</div>
									<div class="panel-body" ng-if="tab=='general'">
										<div class="row  mainHeading">
											<div class="col-md-12"><span class="help-block">Veuillez compl&eacute;ter ce tableau pour chacun des objectifs nationaux de votre pays. Les objectifs indiqu&eacute;s dans cette partie seront utilis&eacute;s dans d&rsquo;autres parties du sixi&egrave;me rapport national. Si votre pays n&rsquo;a pas encore fix&eacute; ou adopt&eacute; d&rsquo;objectif national relatif au Plan strat&eacute;gique pour la diversit&eacute; biologique 2011-2020, veuillez l&rsquo;indiquer dans la case ci-dessous et passer &agrave; la partie II. <a translation-url info-bar data-content="La premi&egrave;re partie du sixi&egrave;me rapport national demande de fournir des informations sur les objectifs nationaux adopt&eacute;s par les pays conform&eacute;ment au Plan strat&eacute;gique 2011-2020 pour la diversit&eacute; biologique (paragraphe 3 b) de la d&eacute;cision X/2). Si votre pays a fix&eacute; et/ou adopt&eacute; des objectifs nationaux ou souscrit &agrave; des engagements &eacute;quivalents relatifs au Plan strat&eacute;gique pour la diversit&eacute; biologique 2011-2020, veuillez utiliser les lignes directrices ci-dessous pour les d&eacute;crire."
													    data-title="CHM Aide: Sixi&egrave;me Rapport National"></a></span></div>
										</div>
										<div class="section">
											<div class="section-header">
												<h3>Informations g&eacute;n&eacute;rales</h3>
											</div>
											<div class="section-body">
												<div class="row" >

													<div class="col-md-12">
														<div class="km-control-group" name="government" required caption="Pays">															
															<div   km-select ng-if="!user.government" required name="government" single ng-model="document.government" placeholder="Veuillez choisir un pays"
																items="options.countries"></div><span class="btn btn-info" ng-if="user.government" ng-bind="document.government|term:locale"></span></div>
													</div>
												</div>
												<div class="row" ng-if="document.government">
													<div class="col-md-12">
														<div class="km-control-group" name="targetPursued">
															<input type="radio" name="targetPursued" ng-model="document.targetPursued" group="targetPursued" ng-value="true" />Mon pays a adopt&eacute; des objectifs nationaux pour la biodiversit&eacute; ou souscrit &agrave; des engagements &eacute;quivalents en accord avec le Plan strat&eacute;gique pour la diversit&eacute; biologique 2011-2020 et les Objectifs d&rsquo;Aichi pour la biodiversit&eacute; <a translation-url info-bar data-content="Veuillez cocher cette case  si votre pays a adopt&eacute; des objectifs nationaux pour la diversit&eacute; biologique ou s&rsquo;il a pris des engagements &eacute;quivalents li&eacute;s &agrave; la r&eacute;alisation des Objectifs d&rsquo;Aichi pour la biodiversit&eacute; ou d&rsquo;autres parties du Plan strat&eacute;gique 2011-2020 pour la diversit&eacute; biologique."
															    data-title="CHM Aide: Sixi&egrave;me Rapport National"></a> <br/> <br/><input type="radio" name="targetPursued" ng-model="document.targetPursued" group="targetPursued" ng-value="false" />Mon pays n&rsquo;a pas adopt&eacute; d&rsquo;objectif national pour la biodiversit&eacute; et utilise les Objectifs d&rsquo;Aichi pour la biodiversit&eacute; comme r&eacute;f&eacute;rence pour rendre compte des progr&egrave;s accomplis. (Passez &agrave; la partie II. Dans la partie III, les Objectifs d&rsquo;Aichi pour la biodiversit&eacute; devraient &ecirc;tre utilis&eacute;s pour les besoins du pr&eacute;sent rapport comme objectifs nationaux et les progr&egrave;s accomplis devraient &ecirc;tre &eacute;valu&eacute;s en vue de la r&eacute;alisation des objectifs dans le contexte national.) <a translation-url info-bar data-content="Veuillez cocher cette case si votre pays n&rsquo;a pas (encore) adopt&eacute; d&rsquo;objectifs nationaux pour la diversit&eacute; biologique. Dans la partie II, votre pays sera invit&eacute; &agrave; relier ses mesures d&rsquo;application aux Objectifs d&rsquo;Aichi pour la biodiversit&eacute;. Dans la partie III, votre pays sera invit&eacute; &agrave; &eacute;valuer les progr&egrave;s accomplis au niveau national dans la r&eacute;alisation des Objectifs d&rsquo;Aichi pour la biodiversit&eacute;."
															    data-title="CHM Aide: Sixi&egrave;me Rapport National"><i class="fa fa-info-circle fa-2x"></i></a> <br/> <br/><input type="radio" name="targetPursued" 
															ng-model="document.notReportingOnNationalTargets" group="targetPursued" 
															ng-value="true" ng-change="updateNotReportingOnNationalTargets(document.notReportingOnNationalTargets)" />Mon pays a adopt&eacute; des objectifs nationaux en mati&egrave;re de biodiversit&eacute;, mais choisit de rendre compte des progr&egrave;s r&eacute;alis&eacute;s en utilisant les objectifs d&apos;Aichi pour la biodiversit&eacute;. <a translation-url info-bar data-content="Si votre pays a adopt&eacute; des objectifs nationaux pour la diversit&eacute; biologique mais souhaite faire &eacute;tat des objectifs d&apos;Aichi relatifs &agrave; la diversit&eacute; biologique, veuillez s&eacute;lectionner cette option. En s&eacute;lectionnant cette option, une zone de texte sera disponible dans laquelle vous pourrez fournir une explication pour votre choix."
															    data-title="CHM Aide: Sixi&egrave;me Rapport National"><i class="fa fa-info-circle fa-2x"></i></a><div class="row" ng-if="document.notReportingOnNationalTargets">
																<div class="col-md-12">
																	<div class="km-control-group" name="notReportingOnNationalTargetsReason" 
																	caption="Veuillez fournir des informations sur les raisons pour lesquelles votre pays choisit de signaler les progr&egrave;s r&eacute;alis&eacute;s en utilisant les objectifs d&apos;Aichi pour la biodiversit&eacute; et non ses objectifs nationaux.">
																	
																		<div km-rich-textbox on-file-upload="onEditorFileUpload(data)" on-paste="onEditorPaste(html)" identifier="document.header.identifier" rows="3"
																			name="notReportingOnNationalTargetsReason" ng-model="document.notReportingOnNationalTargetsReason" locales="document.header.languages"></div>
																	</div>
																</div>
															</div>
															
														</div>
													</div>
												</div>
											</div>
										</div>
										
										<div ng-show="document.targetPursued">
											<div class="section section-default">
												<div class="section-header" style="border-bottom: 1px solid #ddd">
													<h3>Objectifs nationaux</h3>
												</div>
												<div class="section-body" id="sortingSection">
													<div class="row">
														<div class="col-xs-12">

															<ul class="list-group ng-scope" style="margin-top: 10px;">
																<li class="list-group-item ng-scope" style="min-height: 50px;">
																	<div class="pull-right btn-group">
																		<button ng-disabled="loadingNationalTargets||isDialogOpen" class="btn btn-primary" ng-click="openDialog({},'directives/formats/forms/national-target-dialog','edit-national-target-dialog')">Ajouter un objectif</button><a translation-url ng-disabled="loadingNationalTargets" class="btn btn-primary" ng-hre="#" ng-click="refreshNationaTargets()"> <i class="fa fa-spin fa-spinner" ng-if="loadingNationalTargets" />Rafra&icirc;chir</a></div>
																</li>
															</ul>
														</div>
														<div class="row">
															<div class="col-xs-12">
															<div><br/><br/> </br><div  ng-repeat="item in document.nationalTargets">
																	
																	<div class="col-xs-12 col-sm-12 col-md-12">

																		<div class="panel panel-default" id="pnl_{{item.identifier}}">
																			<div class="panel-header clearfix"><!-- <div class="row"> --> <!-- <div class="col-xs-11">							 --><h3>{{nationalTargets[item.identifier].title|lstring:locale}}<div class="pull-right implementation-measure-action-buttons btn-group" style="padding-right:10px"><a ng-href="#" class="btn" ng-click="movePosition(document.nationalTargets, $index, 'up', 'nationalTarget')"
																								data-toggle="tooltip" data-placement="top" title="D&eacute;placer une mesure" ng-if="!$first"> <i class="fa fa-level-up" style="font-size:20px"/> </a> <a ng-href="#" class="btn " ng-click="movePosition(document.nationalTargets, $index, 'down', 'nationalTarget')"
																							data-toggle="tooltip" data-placement="top" title="D&eacute;placer une mesure vers le bas" ng-if="!$last"> <i class="fa fa-level-down" style="font-size:20px"/> </a></div>
																					</h3>
																					
																			</div>
																			<div class="panel-body"><br/><div class="btn-group-xs btn-status" 
																					ng-if="waitForWorkflow.nationalTarget.identifier != item.identifier || !waitForWorkflow.nationalTarget"><span class="label label-primary pull-right  bg-published"  style="margin-left:5px;"
																						ng-if="nationalTargets[item.identifier]._state_s=='public' || nationalTargets[item.identifier].publicRecord">Publique</span> <span class="label label-warning pull-right  bg-draft" ng-if="nationalTargets[item.identifier]._state_s=='draft'">Brouillon</span> <span class="label label-warning pull-right  bg-request" ng-if="nationalTargets[item.identifier]._state_s=='workflow'">en attente d&apos;approbation</span></div>
																				<div class="btn-status" ng-if="waitForWorkflow.nationalTarget && waitForWorkflow.nationalTarget.identifier == item.identifier"><span class="label label-warning pull-right bg-request"><i class="fa fa-spin fa-spinner"></i > En cours...</span></div>
																				<ul ng-if="!nationalTargets[item.identifier].showRecord">
																					<li ng-repeat="target in nationalTargets[item.identifier].aichiTargets track by $index" ng-if="!nationalTargets[item.identifier].isAichiTarget && nationalTargets[item.identifier].aichiTargets">{{target}}</li>
																					<li ng-repeat="target in nationalTargets[item.identifier].otherAichiTargets track by $index" ng-if="nationalTargets[item.identifier].otherAichiTargets">{{target}}</li>
																					
																				</ul>
																				<div ng-if="nationalTargets[item.identifier].showRecord" id="recordDetails_{{item.identifier}}">
																					<div class="full-record-div">
																						<div style="margin:0 50%" ng-if="nationalTargets[item.identifier].showRecordLoading"><i class="fa fa-spinner fa-spin"></i>Chargement en cours...</div>
																						<view-national-target ng-model="nationalTargets[item.identifier].document" locale="locale" header="false" link-target="_blank"></view-national-target>
																					</div>
																				</div>
																			</div>
																			<div class="panel-footer">
																				<div class="btn-group btn-group-xs" ng-if="waitForWorkflow.nationalTarget.identifier != item.identifier || !waitForWorkflow.nationalTarget">
																					<button title="Show full details" type="button" class="btn btn-primary" 
																						ng-click="showRecord(nationalTargets[item.identifier], 'national-target')"
																						ng-if="!nationalTargets[item.identifier].showRecord"><i class="fa fa-search"></i> Show full details</button>
																					<button title="Show full details" type="button" class="btn btn-primary" 
																						ng-click="showRecord(nationalTargets[item.identifier], 'national-target')"
																						ng-if="nationalTargets[item.identifier].showRecord"><i class="fa fa-eye-slash"></i> Hide full details</button><a translation-url ng-if="nationalTargets[item.identifier]._state_s=='workflow' " title="Verrouill&eacute; pour l&rsquo;&eacute;dition" target="_blank" class="btn btn-primary" ng-href="/management/requests/{{getWorkflowId(nationalTargets[item.identifier])}}/publishRecord"><i class="fa fa-lock"></i> view status</a><button ng-click="openDialog(nationalTargets[item.identifier],'directives/formats/forms/national-target-dialog','edit-national-target-dialog')" ng-if="nationalTargets[item.identifier]._state_s!='workflow'"
																						title="Modifier" type="button" class="btn btn-primary"><i class="fa fa-edit"></i> Modifier</button>
																					<button ng-disabled="nationalTargets[item.identifier]._state_s != 'draft' && nationalTargets[item.identifier].assessments.length > 0" ng-hide="nationalTargets[item.identifier]._state_s=='workflow'" title="Supprimer"
																						type="button" class="btn btn-primary" ng-click="delete(nationalTargets[item.identifier],'nationalTarget', $event)"><i class="fa fa-trash-o"></i> Supprimer</button>
																				</div>
																			</div>
																		</div><span class="clearfix"></span></div>
																</div>
															</div>
														</div>
													</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div    id="implementationTab"  km-tab="implementation">
								<div style="margin:0 50%" ng-show="loadingimplementationTab"><i class="fa fa-spinner fa-spin"></i>Chargement en cours...</div>
							</div>
							<div  id="progressTab"   km-tab="progress">
								<div style="margin:0 50%" ng-show="loadingprogressTab"><i class="fa fa-spinner fa-spin"></i>Chargement en cours...</div>
							</div>
							<div id="nationalContributionTab"  km-tab="nationalContribution">
								<div style="margin:0 50%" ng-show="loadingnationalContributionTab"><i class="fa fa-spinner fa-spin"></i>Chargement en cours...</div>
							</div>
							<div  id="gspcContributionTab"  km-tab="gspcContribution">
								<div style="margin:0 50%" ng-show="loadinggspcContributionTab"><i class="fa fa-spinner fa-spin"></i>Chargement en cours...</div>
							</div>

							<div id="iplcContributionTab" km-tab="iplcContribution">
								<div  style="margin:0 50%" ng-show="loadingiplcContributionTab"><i class="fa fa-spinner fa-spin"></i>Chargement en cours...</div>
							</div>

							<div  id="countryProfileTab"  km-tab="countryProfile">
								<div style="margin:0 50%" ng-show="loadingcountryProfileTab"><i class="fa fa-spinner fa-spin"></i>Chargement en cours...</div>
							</div>
						</form>

						<div id="reviewTab"  km-tab="review">

							<div km-document-validation ng-model="validationReport"></div>
							<div class="btn-group" ng-if="document.header.languages.length>1">
									<input type="button" class="btn" ng-class="{'btn-default' : $parent.review.locale!='*', 'btn-info' :$parent.review.locale=='*'}"
									ng-click="$parent.review.locale='*'" value="*" title="dans toutes les langues" />
									<input type="button" class="btn" ng-class="{'btn-default' : $parent.review.locale!=locale, 'btn-info' :$parent.review.locale==locale}"
										ng-repeat="locale in document.header.languages" ng-click="$parent.review.locale = locale" value="{{locale | uppercase}}"
										title="{{locale|languageLongName}}" />
								</div>
							<div class="btn-group btn-group-sm pull-right">
								<button href="#" title="Imprimer le dossier" class="btn btn-default" ng-click="print()">Imprimer <i class="fa fa-spin fa-spinner" ng-if="printing" ></i> <i class="fa fa-print" aria-hidden="true" ng-if="!printing"></i></button>
							</div>
							<div style="margin:0 50%" ng-show="loadingReviewTab"><i  class="fa fa-spinner fa-spin"></i>Chargement en cours...</div>
							<div id="reviewSchemaView">
								<view-national-report-6 ng-model="reviewDocument" locale="getLocale()" link-target="_blank" id="schemaPrintView"></view-national-report-6>
							</div>
						</div>


					</div>
					<div >
					
						<script type="text/ng-template" id="recordExistsTemplate.html" trados-translation="true">
							<h1>Sixi&egrave;me Rapport National</h1>
							<hr>
							<div class=" alert alert-danger">
								<div class="glyphicon glyphicon-exclamation-sign"></div>
								<div>Un seul enregistrement du sixi&egrave;me rapport national est autoris&eacute; pour chaque gouvernement. Le sixi&egrave;me rapport national existe d&eacute;j&agrave; pour votre gouvernement, vous serez redirig&eacute; vers l&apos;enregistrement en {{alertSeconds}} secondes.</div>
							</div>
							<div class="ngdialog-buttons">
								<button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="openExisting()">Rediriger maintenant</button>
							</div>
						</script>
						
						<script type="text/ng-template" trados-translation="true" id="deleteRecordModal">              
					
							<div class="modal-header">
								<h4 class="modal-title" >Confirmer le changement du/des fichier (s) suivant(s) <i ng-show="deletingRecord" class="fa fa-spinner fa-spin"></i></h4>
							</div>
							<div class="modal-body  bg-white" >
								<div ng-if="draftRecordToDelete" class="well" style="font-size:14px;">
									<div style="font-size:11px;font-weight:bold;text-transform:uppercase;color:#999;border-bottom:1px solid #ddd;margin-bottom:10px;">FICHIER BROUILLON</div>
									<div class="row">     
										<div class="col-xs-2" class="color-litegrey">Titre&nbsp;:</div> 
										<div class="col-xs-10" style="font-weight:bold">{{draftRecordToDelete.title|lstring:locale}}</div>
									</div>
									<div class="row"> 
										<div class="col-xs-2" class="color-litegrey">R&eacute;sum&eacute; :</div> 
										<div class="col-xs-10" style="font-weight:bold" ><span ng-bind-html="draftRecordToDelete.summary|lstring:locale"></span></div>
									</div>
									<div class="row" style="margin-top:10px;"> 
										<div class="col-xs-12"> 
											<button ng-disabled="deletingRecord" type="button" class="btn btn-danger"  ng-click="deleteDraft(draftRecordToDelete)">Annuler le brouillon</button></div>
									</div>
								</div>
		
								<div ng-if="publicRecordToDelete" class="well" style="font-size:14px;">
									<div style="font-size:11px;font-weight:bold;text-transform:uppercase;border-bottom:1px solid #ddd;margin-bottom:10px;" class="color-green">FICHIER PUBLI&Eacute;</div>
									
									<div class="row">     
										<div class="col-xs-2" class="color-litegrey">Titre&nbsp;:</div> 
										<div class="col-xs-10" style="font-weight:bold">{{publicRecordToDelete.title|lstring:locale}}</div>
									</div>
									<div class="row"> 
										<div class="col-xs-2" class="color-litegrey">R&eacute;sum&eacute; :</div> 
										<div class="col-xs-10" style="font-weight:bold" ><span ng-bind-html="publicRecordToDelete.summary|lstring:locale"></span></div>
									</div>
		
									<div class="row" style="margin-top:10px;"> 
										<div class="col-xs-12"><span class="label label-danger" ng-if="hasAssessment">Veuillez supprimer l&apos;&eacute;valuation de l&apos;avancement de cet objectif national avant de supprimer l&apos;objectif national.</span><button ng-if="!hasAssessment" ng-show="security" type="button" class="btn btn-danger" ng-disabled="deletingRecord"
											ng-click="deletePublic(publicRecordToDelete)" 
											data-toggle="tooltip" data-placement="top" title="Note&nbsp;: Any pending draft will also be deleted"><span ng-if="!security.canDelete">Demander la suppression de ce fichier</span> <span ng-if="security.canDelete">Supprimer le fichier</span></button> 
										</div>
									</div>
								</div>
		
							</div>
							<div class="modal-footer" >
								<button type="button" class="btn btn-default" ng-click="closeDialog()">Annuler</button>
							</div>
						</script>

						<script type="text/ng-template" id="subRecordsValidation.html" trados-translation="true">
							<h1>Sixth national report - Section I, III validations</h1>
							<hr>
							<div class="modal-body  bg-white" >
								<div ng-if="loadingRecords" style="margin-left:45%"><i class="fa fa-spin fa-spinner"></i> Loading...</div>
								<table class="table table-bordered" ng-if="!fetchError">
									<tbody>
										<tr ng-if="!loadingRecords && !validatingRecords && ((recordsToValidate||[]).length<=0 || !hasErrors)">
											<td >
												<div class="alert alert-info">There are no records in section I and III which have validation errors, please click the continue button to proceed.</div>
											</td>
										</tr>
										<tr ng-if="!loadingRecords && !validatingRecords && hasErrors">
											<td>
												<div class="alert alert-danger">There is mandatory information missing in section I and III records, please update this records before proceeding.</div>
											</td>
										</tr>
										<tr >
											<td ng-include="'subRecordsValidationErrors.html'"></td>
										</tr>
									</tbody>
								</table>
								<div ng-if="fetchError" class="alert alert-danger" ng-bind="fetchError"></div>
							</div>
							<div class="ngdialog-buttons">
								<button type="button" class="ngdialog-button ngdialog-button-primary" ng-if="!validatingRecords && !loadingRecords && hasErrors" ng-click="close()">Fermer</button>
								<button type="button" class="ngdialog-button ngdialog-button-primary" ng-if="!validatingRecords && !loadingRecords && !hasErrors" ng-click="continue()">Continuer</button>
							</div>
						</script>

						<script type="text/ng-template" id="subRecordsValidationErrors.html" trados-translation="true">
							<table class="table table-bordered">
								<tr ng-repeat-start="record in recordsToValidate | orderBy:'status'">
									<td><span ng-if="record.type=='nationalTarget'">Section I : National Target</span> <span ng-if="record.type=='nationalAssessment'">Section III : Evaluation des progr&egrave;s</span></td>										
									<td ng-bind="(record.workingDocumentTitle||record.title)|lstring:locale"></td>
									<td>
										<div ng-switch="record.status"><span ng-switch-when="2" class="label label-success">Valid</span><div ng-switch-when="1" ><span class="label label-warning">Invalid</span><button class="btn btn-xs btn-danger" ng-click="record.showErrors=!record.showErrors">Show Errors <span class="badge" ng-bind="record.errors.length"></span></button>
											</div><span ng-switch-default class="label label-info"><i class="fa fa-spin fa-spinner"></i> Validating...</span></div>
									</td>
								</tr>
								<tr ng-repeat-end ng-if="record.showErrors">
									<td colspan="3" style="border-top:none">
										<table class="table table-bordered" style="background-color: #eee;">
											<tr ng-repeat="error in record.errors">
												<td style="max-width:75px"><span>Ce champ est obligatoire</span></td>
												<td ng-switch="error.property">	
													<div ng-switch-when="relevantNationalTarget" >Veuillez r&eacute;pondre au moins &agrave; une question concernant la pertinence des objectifs nationaux de la section Objectifs Aichi</div>
													<div ng-switch-when="title" >Objectifs nationaux</div>
													<div ng-switch-when="jurisdiction" >Level of application Please specify the level to which the target applies</div>
													<div ng-switch-when="jurisdictionInfo" >Veuillez indiquer la zone concern&eacute;e pour le niveau d&apos;application choisi</div>									
													<div ng-switch-when="relevantNationalTarget" >Objectifs d&apos;Aichi pour la biodiversit&eacute;</div>
													<div ng-switch-when="progress" >Taux de progr&egrave;s vers la mise en &oelig;uvre de l&apos;objectif  s&eacute;lectionn&eacute;</div>
													<div ng-switch-when="confidence" >Niveau de confiance de l&rsquo;&eacute;valuation ci-dessus</div>
													<div ng-switch-when="nationalTarget" >Objectif</div>
													<div ng-switch-default ng-bind="error.code + ':' + error.property "></div>
												</td>
											</tr>
										</table>
									</td>
								</tr>
							</table>
						</script>
					</div>
				</div>

			</div>
		</div>
	</div>
</div>
